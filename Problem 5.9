# include <stdio.h>

bool IsPerfectNumber (int val,int * pArr);

int main()
{
    int i,k=0;
    int a[100]={0};
    for(i=2;i<1000;++i)
    {
        if(IsPerfectNumber(i,a))
        {
            printf("%d its factors are 1",i);
            for(k=0; k<7; ++k)
            {
                if(a[k]!=0)
                {
                    printf(",%d",a[k]);
                }
            }
            printf("\n");
        }
    }
    return 0;
}

bool IsPerfectNumber (int val,int * pArr)
{
    int i,j,k=0;
    int sum = 1;
    for(j=2;j<=val;++j)
    {
        if(j==val || val%j!=0)
        {
            continue;
        }
        else
        {
            sum += j;
            *(pArr+k)=j;
            ++k;
        }
    }
    if (sum == val)
    {
        return true;
    }
    else
    {
        for(i=0; i<=k; ++i)
        {
            *(pArr+i)=0;
        }
        return false;
    }
} 
